(this["webpackJsonpimgedit-app"]=this["webpackJsonpimgedit-app"]||[]).push([[0],{12:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAGHSURBVDhPjZO7SgNBFIZnE8VYKHgLaGEjWKTTykjERuwUEQsfwEYsLKytrC2sbHwAFTtfwOCtM50QiyBaWHiDNXgBdf3+mUlYgyv54cs5Z+Y/Z3c2u4FpUBRF7YRRGIZuraEnuIKLIAje7IrXrwE0TxBmQEP+kpoPGXLsSj+ARsVFGFfdhM5gl0FRytVmCtR8D6fwAY16hxOQR171mICr65zr0AJFph6w1kHeA48g2Zy9F/YWyCfhEzZ0BwVQs9SqHxnh2sd6bh3eg9RT0ICcLZ2OfPxPcU9OA7IuN1WucufzRHlP1VUmqwFpl9eP0Yxq3rQGhC43GR7QgM8ThaefkHGVCTWg4nKrOQyJd8KeHuC8q6wq+hv1EJehCEPQBudQ4rwPRDX2EkYgD31a89pOYbokKcMY7GkVTcOXS62Uz0K8uaze2qvcSViDW9iHVzb1olixr6NuucpKH9cmnrD+MWHqIizBoF0wZhXDt5KGATeww96zK2OSEfKwAvHhelZa056GeRnzAwZ6iSy2U0FUAAAAAElFTkSuQmCC"},15:function(e,a,t){e.exports=t(35)},21:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),i=t.n(l),s=(t(20),t(21),t(12)),u=t.n(s),c=t(13),o=t(2),h=t(3),m=t(1),g=t(5),p=t(4),d=t(14),E=t.n(d);var v=function(e){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Ilumina\xe7\xe3o"),r.a.createElement("input",{type:"range",name:"brightness",value:e.state.brightness,min:"-1",max:"1",step:"0.1",onChange:function(a){e.handleChangeInput(a)}}),"\xa0 Brilho",r.a.createElement("br",null),r.a.createElement("input",{type:"range",name:"contrast",value:e.state.contrast,min:"-1",max:"1",step:"0.1",onChange:function(a){e.handleChangeInput(a)}}),"\xa0 Contraste")};var b=function(e){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Cores"),r.a.createElement("input",{type:"range",name:"redValue",value:e.state.redValue,min:"0",max:"255",onChange:function(a){e.handleChangeInput(a)}}),"\xa0 R",r.a.createElement("br",null),r.a.createElement("input",{type:"range",name:"greenValue",value:e.state.greenValue,min:"0",max:"255",onChange:function(a){e.handleChangeInput(a)}}),"\xa0 G",r.a.createElement("br",null),r.a.createElement("input",{type:"range",name:"blueValue",value:e.state.blueValue,min:"0",max:"255",onChange:function(a){e.handleChangeInput(a)}}),"\xa0 B")};var f=function(e){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Redimensionar"),"Largura: \xa0",r.a.createElement("input",{type:"number",name:"width",value:e.state.width,min:"1",onChange:function(a){e.handleChangeInput(a)}}),r.a.createElement("br",null),"Altura: \xa0",r.a.createElement("input",{type:"number",name:"height",value:e.state.height,min:"1",onChange:function(a){e.handleChangeInput(a)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:function(){e.restoreOriginalSize()},className:"btn btn-danger mt-2"},"Restaurar tamanho inicial"))};var C=function(e){return r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",null,"Efeitos"),"Pixelizar: \xa0",r.a.createElement("input",{type:"number",name:"pixelate",value:e.state.pixelate,min:"0",max:"100",onChange:function(a){""===a.target.value&&(a.target.value=0),e.handleChangeInput(a)}}),r.a.createElement("br",null),"Blur: \xa0",r.a.createElement("input",{type:"number",name:"blurValue",value:e.state.blurValue,min:"0",max:"100",onChange:function(a){""===a.target.value&&(a.target.value=0),e.handleChangeInput(a)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",name:"useGreyscale",checked:e.state.useGreyscale,onChange:function(a){e.handleChangeInput({target:{name:a.target.name,value:a.target.checked}})}}),"\xa0 Usar escala de cinza",r.a.createElement("br",null),r.a.createElement("input",{type:"checkbox",name:"useSepia",checked:e.state.useSepia,onChange:function(a){e.handleChangeInput({target:{name:a.target.name,value:a.target.checked}})}}),"\xa0 Usar efeito s\xe9pia")},A=function(e){Object(g.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleChangeInput=n.handleChangeInput.bind(Object(m.a)(n)),n}return Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("input",{type:"file",id:"imgselector",onChange:function(a){e.handleImageChange(a)}}),r.a.createElement("br",null),r.a.createElement(v,{state:this.props.state,handleChangeInput:this.handleChangeInput}),r.a.createElement(b,{state:this.props.state,handleChangeInput:this.handleChangeInput}),r.a.createElement(f,{state:this.props.state,handleChangeInput:this.handleChangeInput,restoreOriginalSize:this.props.restoreOriginalSize}),r.a.createElement(C,{state:this.props.state,handleChangeInput:this.handleChangeInput}),r.a.createElement("button",{type:"button",className:"mt-4 btn btn-danger",onClick:function(){e.props.restoreDefaultValues()}},"Restaurar propriedades iniciais"))}},{key:"handleChangeInput",value:function(e){var a=e.target.name,t=null;t=-1===e.target.value.toString().search(/\d/)?e.target.value:parseFloat(e.target.value),this.props.handleOptionChange(a,t)}},{key:"handleImageChange",value:function(e){var a=this,t=e.target,n=t.files?t.files[0]:null,r=new FileReader;n&&(-1!==n.type.search("image")?(r.onloadend=function(){a.props.handleUploadResult(r.result)},r.readAsDataURL(n)):this.props.handleUploadResult(null,"O arquivo deve ser uma imagem."))}}]),t}(r.a.Component),w=t(7),y=t.n(w),O=function(e){Object(g.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={imageCode:y.a,previewCode:y.a,errorMessage:"",brightness:0,contrast:0,width:420,height:420,origSize:[420,420],useGreyscale:!1,useSepia:!1,pixelate:0,blurValue:0,redValue:0,greenValue:0,blueValue:0,loading:!1},n.handleOptionChange=n.handleOptionChange.bind(Object(m.a)(n)),n.handleUploadResult=n.handleUploadResult.bind(Object(m.a)(n)),n.restoreOriginalSize=n.restoreOriginalSize.bind(Object(m.a)(n)),n.restoreDefaultValues=n.restoreDefaultValues.bind(Object(m.a)(n)),n}return Object(h.a)(t,[{key:"updatePreview",value:function(){var e=this;this.setState({loading:!0}),E.a.read(this.state.imageCode).then((function(a){a.resize(e.state.width,e.state.height).brightness(e.state.brightness).contrast(e.state.contrast).color([{apply:"red",params:[e.state.redValue]},{apply:"green",params:[e.state.greenValue]},{apply:"blue",params:[e.state.blueValue]}]),0!==e.state.blurValue&&a.blur(e.state.blurValue),0!==e.state.pixelate&&a.pixelate(e.state.pixelate),e.state.useGreyscale&&a.greyscale(),e.state.useSepia&&a.sepia(),a.getBase64(a.getMIME(),(function(a,t){if(a)throw new Error("erro durante a tentativa de conseguir a imagem em base64");e.setState({previewCode:t,errorMessage:"",loading:!1})}))})).catch((function(a){console.log(a),e.setState({errorMessage:"Um erro ocorreu durante a montagem da pr\xe9via.",loading:!1})}))}},{key:"handleOptionChange",value:function(e,a){this.setState(Object(c.a)({},e,a)),this.updatePreview()}},{key:"handleUploadResult",value:function(e,a){var t=this;if(e){var n=new Image;n.onload=function(){t.setState({imageCode:e,previewCode:e,errorMessage:"",width:n.width,height:n.height,origSize:[n.width,n.height]}),t.restoreDefaultValues()},n.src=e}else this.setState({errorMessage:a})}},{key:"restoreOriginalSize",value:function(){this.setState({width:this.state.origSize[0],height:this.state.origSize[1]}),this.updatePreview()}},{key:"restoreDefaultValues",value:function(){this.setState({brightness:0,contrast:0,useGreyscale:!1,useSepia:!1,pixelate:0,blurValue:0,redValue:0,greenValue:0,blueValue:0}),this.restoreOriginalSize()}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("div",{className:"mt-4"}),this.state.errorMessage?r.a.createElement("div",{className:"alert alert-danger"},this.state.errorMessage):r.a.createElement("span",null),r.a.createElement(A,{state:this.state,handleUploadResult:this.handleUploadResult,handleOptionChange:this.handleOptionChange,restoreOriginalSize:this.restoreOriginalSize,restoreDefaultValues:this.restoreDefaultValues}),r.a.createElement("a",{download:!0,href:this.state.previewCode,className:"btn btn-primary mt-2 mb-4"},"Baixar imagem")),r.a.createElement("div",{className:"col-12 col-md-4 mt-4 center-div"},r.a.createElement("img",{src:this.state.previewCode,alt:"Preview",className:"preview-image"}),r.a.createElement("div",null,"Pr\xe9via do resultado"),this.state.loading?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("span",null)))}}]),t}(r.a.Component);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"center-div mt-2"},r.a.createElement("h1",null,"Editar imagens")),r.a.createElement("div",{className:"container editor-component mt-4"},r.a.createElement(O,null)),r.a.createElement("div",{className:"mt-4 footer"},r.a.createElement("div",{className:"footer-content"},"2020, Lucas Kenji. \xa0",r.a.createElement("span",null,r.a.createElement("a",{href:"https://github.com/lucaskenji",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:u.a,alt:"Github icon."}))))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))},7:function(e,a,t){e.exports=t.p+"static/media/default_image.687fd5f2.png"}},[[15,1,2]]]);
//# sourceMappingURL=main.f6123dfd.chunk.js.map